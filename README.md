# README

## 目次
1. [ファイル構成](#ファイル構成)
2. [ゲーム概要](#ゲーム概要)
3. [実行方法](#実行方法)
4. [参照ライブラリ・関数](#参照ライブラリ・関数)

---

## ファイル構成
このプロジェクトは、Pythonプログラムとその依存ライブラリを用いて作成された「音階神経衰弱」ゲームです。主要なファイルは以下の通りです。

- **main.py**: ゲームのメインプログラム。ゲームのロジック、UI、音声再生機能を含んでいます。
- **font.ttf**: 日本語フォントファイル（必要に応じて追加）。
- **requirements.txt**: プロジェクトの依存ライブラリをリスト化したファイル（後述）。
- **README.md**: プロジェクトの概要や使用方法を記載したファイル。

---

## ゲーム概要
このゲームは、神経衰弱（メモリーカードゲーム）の音階バージョンです。プレイヤーは、ランダムに配置されたカードのペアを一致させることを目指します。カードには音階が対応しており、プレイヤーは音を聴きながらカードを選んでいきます。

### ゲームの流れ
1. ゲームを開始すると、画面にカードが並べられます。
2. 各カードには音階が対応しており、カードをめくるとその音が鳴ります。
3. 音が一致するカードペアを選んでペアを揃えます。
4. ゲームは時間制限付きで進行し、制限時間が終了するとゲームが終了します。
5. スコア（一致させたカードの数）が表示されます。

---

## 実行方法
### 依存ライブラリのインストール
ゲームを実行する前に、必要なライブラリをインストールする必要があります。以下のコマンドでインストールしてください。

```bash
pip install -r requirements.txt
```

**requirements.txt**には、以下のライブラリが含まれています：

- `pygame` - ゲームのグラフィック、ユーザーインターフェース、イベント管理を担当。
- `numpy` - 音声波形の生成に使用。
- `sounddevice` - 音階の再生に使用。
- `random` - カードのシャッフルに使用。
- `time` - ゲームのタイマー管理に使用。
- `os` - 日本語フォントの設定に使用。

### 実行方法
実行には、Python 3.xがインストールされている必要があります。次のコマンドでゲームを起動します。

```bash
python main.py
```

ゲームが起動すると、メニュー画面が表示されます。画面内で盤面サイズや時間制限の調整、ゲームの開始を選択できます。

---

## 参照ライブラリ・関数

### 使用ライブラリ
- **pygame**: ゲームのグラフィック、入力処理、音の再生など、すべてのUI操作を担当します。ゲームのメインループで処理が行われます。
- **numpy**: 音階を生成するための数学的な処理に使用。音波のサイン波を計算して音を出力します。
- **sounddevice**: サウンドデバイスに音を出力するために使用します。
- **random**: ゲーム開始時にカードのシャッフル処理を担当します。
- **time**: ゲームの進行時間を管理します。
- **os**: 日本語フォントの指定に使用されます。

### 主な関数
- `play_tone(frequency, duration)`: 指定された周波数で音を再生する関数。
- `shuffle_deck(num_cards)`: カードのデッキをシャッフルして、カードペアを作成する関数。
- `get_font(size)`: 日本語対応フォントを取得する関数。システムフォントを優先的に使用します。
- `draw_menu()`: メニュー画面を描画する関数。
- `draw_time_adjustment()`: 時間制限調整画面を描画する関数。
- `draw_game_status(score, time_left)`: ゲーム進行中のスコアと残り時間を表示する関数。
- `start_game(card_count)`: ゲームを開始するための関数。カードの配置や画面サイズなどの初期設定を行います。
- `end_game()`: ゲーム終了時にゲームオーバーのメッセージを表示する関数。

---

このREADMEはゲームのプレイ方法、必要な依存関係、主要なプログラムの詳細を提供し、実行環境の構築をサポートします。